# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Formula 1 test >> login
- Location: /Users/anton_savchenko/sources/Robot_dreams_Anton_Savchenko/lesson21/tests/formula1-test.spec.ts:9:9

# Error details

```
Error: locator.waitFor: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('//nav//button[@data-event="myProfileClick"]') to be visible

    at F1LoginPage.login (/Users/anton_savchenko/sources/Robot_dreams_Anton_Savchenko/lesson21/src/pages/f1-login.page.ts:52:35)
    at /Users/anton_savchenko/sources/Robot_dreams_Anton_Savchenko/lesson21/tests/formula1-test.spec.ts:17:9
```

# Page snapshot

```yaml
- banner:
  - link "Formula1":
    - img "Formula1"
  - list:
    - listitem:
      - link "Sign in"
    - listitem:
      - link "Register"
- main:
  - heading "Sign In" [level=1]
  - alert: Sorry something went wrong
  - text: Email address
  - textbox "Enter your username": savchenko3337@gmail.com
  - text: Password
  - textbox "Enter your password": Qwerty24!
  - link "Forgotten password?"
  - button "Sign In"
  - text: Don't have an account yet?
  - link "Register with F1"
- contentinfo:
  - link "Formula1":
    - img "Formula1"
  - list:
    - listitem:
      - link "Privacy Policy"
    - listitem:
      - link "Subscription"
    - listitem:
      - link "Terms Of Use"
    - listitem:
      - link "FAQs"
    - listitem:
      - link "Cookie Preferences"
  - list:
    - listitem:
      - link "EN"
    - listitem:
      - link "FR"
    - listitem:
      - link "DE"
    - listitem:
      - link "ES"
    - listitem:
      - link "NL"
    - listitem:
      - link "PT"
  - text: © 2003-2025 Formula One World Championship Limited
- button "Hello, have a question? Let’s chat."
```

# Test source

```ts
   1 | import { Locator, Page } from '@playwright/test';
   2 |
   3 | export class F1LoginPage {
   4 |     private signInSelector = '//nav[@aria-label="Global Navigation Menu"]//div//a[1]';
   5 |
   6 |     private get emailInput(): Locator {
   7 |         return this.page.locator('//input[@name="Login"]');
   8 |     }
   9 |
  10 |     private get passwordInput(): Locator {
  11 |         return this.page.locator('//input[@name="Password"]');
  12 |     }
  13 |
  14 |     private get loggedInButton(): Locator {
  15 |         return this.page.locator('//nav//button[@data-event="myProfileClick"]');
  16 |     }
  17 |
  18 |     public get signInButton(): Locator {
  19 |         return this.page.locator('//nav[@aria-label="Global Navigation Menu"]//div//a[1]');
  20 |     }
  21 |
  22 |     public constructor(private page: Page) {}
  23 |
  24 |     private async loginSignInButton(): Promise<void> {
  25 |         await this.page.getByRole('button', { name: 'Sign In' }).click();
  26 |     }
  27 |
  28 |     public async goTo(): Promise<void> {
  29 |         await this.page.goto('https://www.formula1.com/');
  30 |     }
  31 |
  32 |     public async login(): Promise<void> {
  33 |         const username = process.env.LOGIN;
  34 |         const password = process.env.PASSWORD;
  35 |
  36 |         if (!username || !password) {
  37 |             throw new Error('Environment variables LOGIN and PASSWORD must be defined.');
  38 |         }
  39 |
  40 |         await this.signInButton.click();
  41 |         await this.emailInput.click();
  42 |         await this.emailInput.pressSequentially('savchenko3337@gmail.com', {
  43 |             delay: 50,
  44 |             timeout: 60000
  45 |         });
  46 |         await this.passwordInput.pressSequentially('Qwerty24!', {
  47 |             delay: 50,
  48 |             timeout: 60000
  49 |         });
  50 |         await this.loginSignInButton();
  51 |
> 52 |         await this.loggedInButton.waitFor();
     |                                   ^ Error: locator.waitFor: Test timeout of 30000ms exceeded.
  53 |     }
  54 | }
  55 |
```